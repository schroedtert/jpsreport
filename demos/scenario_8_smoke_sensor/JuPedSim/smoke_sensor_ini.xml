<?xml version="1.0" encoding="UTF-8" ?>

<JuPedSim project="offenbach" version="0.6" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../xsd/jps_ini_core.xsd">

<!-- header: seed, geometry, output format -->
<numCPU>4</numCPU>
<seed>1707</seed>
<max_sim_time>600</max_sim_time>
<!--maxCPU>1</maxCPU-->


<geometry>smoke_sensor_geometry.xml</geometry>

<!-- traectories file and format -->
<trajectories format="xml-plain" fps="1">
<file location="smoke_sensor_traj.xml" />
</trajectories>

<!-- agents -->
<agents operational_model_id="2">
	<agents_distribution>
		<group group_id="1" agent_parameter_id="1" room_id="0" subroom_id="0" number="30" router_id="7" pre_movement_mean="40" pre_movement_sigma="0" y_max="4" risk_tolerance_mean="0." risk_tolerance_sigma="0."/>
	</agents_distribution>
</agents>

<!-- operational models -->
<operational_models>

	<model operational_model_id="1" description="gcfm">
		<model_parameters>
		<solver>euler</solver>
		<stepsize>0.01</stepsize>
		<exit_crossing_strategy>4</exit_crossing_strategy>
		<linkedcells enabled="true" cell_size="3.0"/>
		<force_ped nu="0.5" b="0.034229" c="2.450932"/>
		<force_wall nu="1.5" b="0.034229" c="2.450932"/>
		</model_parameters>
		<agent_parameters agent_parameter_id="1">
		<v0 mu="1.2" sigma="0.05" />
		<bmax mu="0.25" sigma="0.001" />
		<bmin mu="0.20" sigma="0.001" />
		<amin mu="0.18" sigma="0.001" />
		<tau mu="0.5" sigma="0.001" />
		<atau mu="0.5" sigma="0.001" />
		</agent_parameters>
	</model>


	<model operational_model_id="2" description="gompertz">
		<model_parameters>
			<solver>euler</solver>
			<stepsize>0.01</stepsize>
			<exit_crossing_strategy>3</exit_crossing_strategy>
			<linkedcells enabled="true" cell_size="3.0" />
			<force_ped nu="3" b="0.25" c="3.0" />
			<force_wall nu="10" b="0.7" c="3.0" />
		</model_parameters>
		<agent_parameters agent_parameter_id="1">
			<v0 mu="1.0" sigma="0.2" />
			<bmax mu="0.25" sigma="0.001" />
			<bmin mu="0.20" sigma="0.001" />
			<amin mu="0.18" sigma="0.001" />
			<tau mu="0.5" sigma="0.001" />
			<atau mu="0.5" sigma="0.001" />
		</agent_parameters>
	</model>

	<model operational_model_id="3" description="Tordeux2015">
		<model_parameters>
			<solver>euler</solver>
			<stepsize>0.1</stepsize>
	<periodic>0</periodic>
			<exit_crossing_strategy>3</exit_crossing_strategy>
			<linkedcells enabled="true" cell_size="30"/>
			<force_ped  a="5" D="0.1"/>
			<force_wall a="5" D="0.02"/>
		</model_parameters>
		<agent_parameters agent_parameter_id="1">
			<v0 mu="1.34" sigma="0.0" />
			<bmax mu="0.15" sigma="0.0" /> <!-- this is l/2, assuming peds are circles with constant radius-->
			<bmin mu="0.15" sigma="0.0" />
			<amin mu="0.15" sigma="0.0" />
			<tau mu="0.5" sigma="0.0" />
			<atau mu="0." sigma="0.0" />
			<T mu="1" sigma="0.0" />
		</agent_parameters>
	</model>

</operational_models>

<!-- route choice models -->
  <route_choice_models>

    <router router_id="7" description="AI">
      <sensors>

	      <sensor sensor_id="2" description="Smoke" smoke_factor_grids="demos/scenario_8_smoke_sensor/FDS/3_sfgrids/Z_2.25/dx_1.00/" update_time="20" final_time="120" status="activated"/>
	      <sensor sensor_id="3" description="LastDestination" status="activated"/>
      </sensors>
      <cognitive_map status="complete" />
    </router>

  </route_choice_models>

</JuPedSim>
