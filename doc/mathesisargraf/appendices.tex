\section{Appendices}

\subsection{Fast-Marching Algorithm}


\begin{sequencediagram}
\newthread[white]{u}{User}
\newinst[2]{f}{FloorfieldViaFM}
\newinst[5]{t}{Trial}

  \begin{call}{u}{Create and Init(...)}{f}{}
	\begin{call}{f}{Create and Init(...)}{t}{}
	\end{call}
	\begin{call}{f}{All points are marked unknown}{t}{}
	\end{call}
	\begin{call}{f}{Add target points to narrowband}{t}{}
	\end{call}

    \begin{sdblock}{while narrowband not empty}{}

     \begin{call}{f}{remove minimum from narrowband}{t}{}
     \end{call}
     \begin{callself}{f}{add minimum to know-set}{}{}
     \end{callself}
     \begin{callself}{f}{calc cost of minimum's unknown neighs}{}{}
     \end{callself}
     \begin{call}{f}{add unknown neighbors to narrowband}{t}{}
     \end{call}
   \end{sdblock}
   \begin{callself}{f}{save floorfield}{}{}
   \end{callself}
  \end{call}
\end{sequencediagram}
\newpage
\subsection{Gradient Model using a Floorfield}
\begin{adjustbox}{width=\textwidth, height=\textheight, keepaspectratio}
\begin{sequencediagram}
\newthread[white]{u}{User}
\newinst[2]{g}{GradientModel}
\newinst[2]{d}{DirectionStrategy}
\newinst[2]{f}{FloorfieldViaFM}

\begin{call}{u}{Create and Init(...)}{g}{}


\begin{call}{u}{Create and Init(...)}{d}{}
   \begin{call}{d}{Create and Init(...)}{f}{}
   \begin{sdblock}{run simulation}{} 
     \begin{callself}{g}{for each agent}{}{}
       \begin{call}{g}{getTarget()}{d}{return movDir}
         \begin{call}{d}{getDirectionAt()}{f}{return movDir}
         \end{call}
       \end{call}
       
       \begin{call}{g}{getDir2Wall()}{d}{return dir2Wall}
         \begin{call}{d}{getDir2Wall()}{f}{return dir2Wall}
         \end{call}
       \end{call}
       
       \begin{call}{g}{getDistance2Wall()}{d}{return distance2Wall}
         \begin{call}{d}{getDistance2Wall()}{f}{return distance2Wall}
         \end{call}
       \end{call} 
       \begin{callself}{g}{calc moving vector}{}{}
       \end{callself}      
     \end{callself}
   \end{sdblock}
  \end{call}
  \end{call}
\end{call}
\end{sequencediagram}
\end{adjustbox}
\newpage
%\subsection{Code Snippets}
\setstretch{1}
%\lstinputlisting[label=FFviaFM_h,caption=FloorfieldViaFM Class Header]{../../routing/FloorfieldViaFM.h}
\newpage
%\lstinputlisting[label=RectGrid,caption=RectGrid Class Header]{../../routing/mesh/RectGrid.h}