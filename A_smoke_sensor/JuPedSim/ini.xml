<?xml version="1.0" encoding="UTF-8" ?>

<JuPedSim project="scenario_ben" version="0.8"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="../../xsd/jps_ini_core.xsd">

<!-- header: seed, geometry, output format -->
<seed>54683</seed>
<max_sim_time>200</max_sim_time>
<!--maxCPU>1</maxCPU-->

<geometry>geo.xml</geometry>

<!-- traectories file and format -->
<trajectories format="xml-plain" fps="24">
<file location="traj.xml" />
</trajectories>

<show_statistics>true</show_statistics>
<logfile>log.txt</logfile>

<!-- configuration of fire simulation input -->
<JPSfire>
        <A_smoke_sensor smoke_factor_grids="../FDS/sf_grids/"
                update_time="10.0" final_time="100.0"/>
        <B_walking_speed_ extinction_grids="../FDS/extinction_grids/"
                update_time="10.0" final_time="100.0" study="Fridolf2018" irritant="false"/>
</JPSfire>

<!-- agents -->
<agents operational_model_id="3">
        <agents_distribution>
                <group group_id="1" agent_parameter_id="1" room_id="0" subroom_id="0"
                        number="50" router_id="7" pre_movement_mean="20" pre_movement_sigma="0"
                        risk_tolerance_alpha="12.0" risk_tolerance_beta="3.0"/>

                        <!--risk tolerance values for orientation: #todo: into wiki
                        low risk (taking no-smoke route) alpha=12.0 beta=12.0
                        medium risk (50:50) alpha=12.0 beta=6.0
                        high risk (taking smoke route) alpha=12.0 beta=3.0-->

        </agents_distribution>
</agents>

<!-- operational models -->
<operational_models>

        <model operational_model_id="3" description="Tordeux2015">
                <model_parameters>
                        <solver>euler</solver>
                        <stepsize>0.1</stepsize>
        <periodic>0</periodic>
                        <exit_crossing_strategy>3</exit_crossing_strategy>
                        <linkedcells enabled="true" cell_size="30"/>
                        <force_ped  a="5" D="0.1"/>
                        <force_wall a="5" D="0.02"/>
                </model_parameters>
                <agent_parameters agent_parameter_id="1">
                        <v0 mu="1.34" sigma="0.0" />
                        <bmax mu="0.15" sigma="0.0" /> <!-- this is l/2, assuming peds are circles with constant radius-->
                        <bmin mu="0.15" sigma="0.0" />
                        <amin mu="0.15" sigma="0.0" />
                        <tau mu="0.5" sigma="0.0" />
                        <atau mu="0." sigma="0.0" />
                        <T mu="1" sigma="0.0" />
                </agent_parameters>
        </model>

</operational_models>

<!-- route choice models -->
  <route_choice_models>
    <router router_id="7" description="smoke">
      <sensors>
        <sensor sensor_id="2" description="Smoke" status="activated"/>
      </sensors>
      <cognitive_map status="complete"/>
          <parameters>
        </parameters>
    </router>
  </route_choice_models>

</JuPedSim>
